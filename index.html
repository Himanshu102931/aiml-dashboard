<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIML Quest Dashboard - Final</title>
    <link rel="icon" type="image/png" href="quest.png">
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-color: #031930; --card-color: #223A59; --primary-color: #3684db;
            --accent-color: #b3d6f9; --text-color: #758ba5; --text-muted: #d1dded;
            --success-color: #5cb85c; --font-family: 'Inter', sans-serif; --gold-color: #ffd700;
        }
        *, *::before, *::after { box-sizing: border-box; }
        body { font-family: var(--font-family); background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 0 10px; }
        h1 { color: var(--accent-color); font-weight: 700; margin: 0; font-size: 1.8rem; }
        #datetime { text-align: right; }
        #time { font-size: 1.5rem; font-weight: 600; }
        #date { font-size: 0.9rem; color: var(--text-muted); }

        nav { background-color: var(--card-color); padding: 10px; border-radius: 10px; margin-bottom: 20px; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        nav button { background: none; border: 1px solid var(--primary-color); color: var(--text-muted); padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s; }
        nav button.active, nav button:hover { background-color: var(--accent-color); color: white; border-color: var(--accent-color); }

        .view { display: none; }
        .view.active { display: grid; gap: 20px; }
        
        #view-main { grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); }
        #view-status { grid-template-columns: 1fr 1fr; }
        
        .card { background-color: var(--card-color); padding: 25px; border-radius: 12px; border: 1px solid var(--primary-color); }
        .card h2 { margin-top: 0; color: var(--accent-color); border-bottom: 2px solid var(--primary-color); padding-bottom: 10px; font-size: 1.2rem; }
        .card h2 .icon { margin-right: 10px; }
        
        form label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--text-muted); }
        input, select { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid var(--primary-color); border-radius: 8px; background-color: var(--bg-color); color: var(--text-color); }
        button { border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 1rem; transition: all 0.2s; border: none; }
        button:hover { opacity: 0.9; }
        #log-progress-btn { width: 100%; padding: 12px; background-color: var(--accent-color); color: white; }
        
        #goal-list { margin-bottom: 15px; min-height: 50px; }
        .goal-item { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .goal-text { flex-grow: 1; }
        .goal-item .delete-goal-btn { background: none; color: var(--text-muted); cursor: pointer; font-size: 1rem; padding: 5px; }
        .goal-progress-bar { width: 100%; height: 8px; background-color: var(--primary-color); border-radius: 4px; overflow: hidden; margin-top: 5px; }
        .goal-progress { height: 100%; background-color: var(--success-color); width: 0%; transition: width 0.5s ease; }
        #add-goal-form { display: grid; grid-template-columns: 1fr auto auto auto; gap: 10px; align-items: center; margin-top: 10px; }
        #add-goal-form input, #add-goal-form select { margin-bottom: 0; }
        #add-goal-form button { padding: 12px 15px; width: auto; background-color: var(--success-color); color: white; }

        #stats p, #skills div { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        #stats strong, #skills strong { color: var(--text-muted); }
        .stat-value { font-size: 1.1rem; font-weight: 600; background-color: var(--primary-color); padding: 4px 10px; border-radius: 5px; }
        #streak-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: center; }
        .xp-bar-container { width: 100%; background-color: var(--primary-color); border-radius: 20px; height: 10px; margin-top: 5px; overflow: hidden; }
        .xp-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #e94560, #a10f28); border-radius: 20px; transition: width 0.5s ease-in-out; }
        .xp-text { font-size: 0.8rem; text-align: right; color: var(--text-muted); margin-top: 4px; }

        #achievements-list { display: flex; flex-wrap: wrap; gap: 10px; }
        .badge { background-color: var(--primary-color); padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; }

        /* Modal Styles */
        .modal { position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s; }
        .modal.show { display: flex; opacity: 1; }
        .modal-content { background-color: var(--card-color); padding: 25px; border: 1px solid var(--primary-color); width: 90%; max-width: 800px; border-radius: 12px; position: relative; }
        .close-btn { color: #aaa; position: absolute; top: 15px; right: 25px; font-size: 28px; font-weight: bold; cursor: pointer; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--primary-color); padding-bottom: 10px; }
        .modal-filters button { width: auto; padding: 8px 15px; margin-left: 10px; font-size: 0.9rem; background-color: var(--primary-color); }
        .modal-filters button.active { background-color: var(--accent-color); }
        #records-container { max-height: 60vh; overflow-y: auto; margin-top: 20px; padding-right: 10px; }
        .record-card { background-color: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid var(--success-color); }
        .record-card h4 { margin: 0 0 10px 0; color: var(--accent-color); }
        .record-card p { margin: 5px 0; font-size: 0.9rem; color: var(--text-muted); }
        .record-card p strong { color: var(--text-color); }
        
        #shop-items { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;}
        .shop-item { background-color: var(--bg-color); padding: 15px; border-radius: 8px; text-align: center; }
        .shop-item .icon { font-size: 2rem; color: var(--gold-color); }
        .shop-item button { width: 100%; margin-top: 10px; background-color: var(--success-color); }
        .shop-item button:disabled { background-color: #555; cursor: not-allowed; }
        #xp-balance { text-align: center; margin-top: 20px; font-size: 1.1rem; font-weight: bold; color: var(--gold-color); }
        
        @media (max-width: 992px) { #view-status { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { #view-main { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fa-solid fa-rocket"></i> AIML Quest Dashboard</h1>
            <div id="datetime"><div id="time"></div><div id="date"></div></div>
        </header>

        <nav id="main-nav">
            <button class="nav-btn active" data-view="view-main">Main Page</button>
            <button class="nav-btn" data-view="view-status">Character Status</button>
            <button id="view-records-btn">Record Diary</button>
            <button id="open-shop-btn">XP Shop</button>
        </nav>

        <div id="view-container">
            <div id="view-main" class="view active">
                <div class="card" id="actions-panel">
                    <h2><i class="fa-solid fa-clipboard-check icon"></i> Daily Log</h2>
                    <form id="dailyForm">
                        <label for="codingProblems">Coding Problems Solved:</label>
                        <input type="number" id="codingProblems" min="0" value="0" required>
                        <label for="theoryTime">Theory Study (hours):</label>
                        <input type="number" id="theoryTime" min="0" step="0.5" value="0" required>
                        <label for="projectTime">Project Work (hours):</label>
                        <input type="number" id="projectTime" min="0" step="0.5" value="0" required>
                        <label for="fitnessDone">Fitness Done?</label>
                        <select id="fitnessDone" required><option value="n">No</option><option value="y">Yes</option></select>
                        <button id="log-progress-btn" type="submit">Log Today's Progress</button>
                    </form>
                </div>
                <div class="card" id="goal-tracker">
                    <h2><i class="fa-solid fa-bullseye icon"></i> This Week's Goals</h2>
                    <div id="goal-list"></div>
                    <form id="add-goal-form">
                        <input type="text" id="goal-text" placeholder="e.g., Solve 20 LeetCode problems" required>
                        <input type="number" id="goal-target" placeholder="Target #" min="1" required>
                        <select id="goal-category" required>
                            <option value="coding">Coding</option>
                            <option value="theory">Theory</option>
                            <option value="projects">Projects</option>
                        </select>
                        <button type="submit">+</button>
                    </form>
                </div>
            </div>
            <div id="view-status" class="view">
                <div class="card" id="character-panel">
                    <section id="stats">
                        <h2><i class="fa-solid fa-user-astronaut icon"></i> Character Stats</h2>
                        <p><strong>Level:</strong> <span class="stat-value" id="level">1</span></p>
                        <div>
                            <strong>XP Progress:</strong>
                            <div class="xp-bar-container"><div id="xpBar" class="xp-bar"></div></div>
                            <p class="xp-text"><span id="xp">0</span> / <span id="xpToNextLevel">500</span></p>
                        </div>
                        <div id="streak-container">
                            <div><strong><i class="fa-solid fa-fire"></i> Study</strong><span class="stat-value" id="studyStreak">0 d</span></div>
                            <div><strong><i class="fa-solid fa-person-running"></i> Fitness</strong><span class="stat-value" id="fitnessStreak">0 d</span></div>
                        </div>
                        <p><strong><i class="fa-solid fa-shield-halved"></i> Freezes:</strong> <span class="stat-value" id="streak-freezes">0</span></p>
                    </section>
                    <section id="skills">
                        <h2><i class="fa-solid fa-brain icon"></i> Skill Levels</h2>
                        <div><strong><i class="fa-solid fa-code"></i> Coding:</strong><span>Lvl <span id="codingLvl">1</span></span></div>
                        <div><strong><i class="fa-solid fa-book-open"></i> Theory:</strong><span>Lvl <span id="theoryLvl">1</span></span></div>
                        <div><strong><i class="fa-solid fa-lightbulb"></i> Projects:</strong><span>Lvl <span id="projectsLvl">1</span></span></div>
                    </section>
                </div>
                <div>
                    <div class="card" id="achievements-panel" style="margin-bottom: 20px;">
                        <h2><i class="fa-solid fa-trophy icon"></i> Achievements</h2>
                        <div id="achievements-list"></div>
                    </div>
                    <div class="card" id="progress-panel">
                        <h2><i class="fa-solid fa-chart-line icon"></i> Weekly Effort</h2>
                        <canvas id="progressChart"></canvas>
                   </div>
                </div>
            </div>
        </div>
    </div>

    <div id="recordsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <div class="modal-header">
                <h2><i class="fa-solid fa-book-journal-whills"></i> Record Diary</h2>
                <div class="modal-filters">
                    <button id="filter-daily" class="active">Daily</button>
                    <button id="filter-weekly">Weekly</button>
                    <button id="filter-monthly">Monthly</button>
                </div>
            </div>
            <div id="records-container"></div>
        </div>
    </div>
    <div id="shopModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2><i class="fa-solid fa-store"></i> XP Shop</h2>
            <div id="shop-items"></div>
            <div id="xp-balance">Your XP: <span id="shop-xp-balance">0</span></div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA & STATE ---
        let progress = JSON.parse(localStorage.getItem('questProgressV7')) || {
            xp: 0, level: 1, lastUpdate: null,
            streaks: { fitness: 0, study: 0 },
            goals: [], perks: { streakFreeze: 0 },
            skills: { coding: 1, theory: 1, projects: 1 },
            history: [], unlockedAchievements: []
        };
        const SHOP_ITEMS = [ { id: 'streakFreeze', name: 'Streak Freeze', icon: 'fa-solid fa-shield-halved', desc: 'Saves your streak if you miss one day.', cost: 500 } ];
        const ACHIEVEMENTS = {
            level5: { name: 'Level 5!', icon: 'fa-solid fa-star' },
            streak7: { name: '7-Day Study Streak!', icon: 'fa-solid fa-fire' }
        };
        
        // --- MODAL & VIEW SWITCHING ---
        const navButtons = document.querySelectorAll('.nav-btn');
        const views = document.querySelectorAll('.view');
        const shopModal = document.getElementById('shopModal');
        const recordsModal = document.getElementById('recordsModal');
        const showView = (viewId) => {
            views.forEach(view => view.classList.remove('active'));
            navButtons.forEach(btn => btn.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
            document.querySelector(`.nav-btn[data-view="${viewId}"]`).classList.add('active');
        };
        navButtons.forEach(btn => btn.addEventListener('click', () => showView(btn.dataset.view)));
        const setupModal = (modal, openBtnId) => {
            document.getElementById(openBtnId).addEventListener('click', () => modal.classList.add('show'));
            modal.querySelector('.close-btn').addEventListener('click', () => modal.classList.remove('show'));
            window.addEventListener('click', (e) => { if (e.target == modal) modal.classList.remove('show'); });
        };
        setupModal(shopModal, 'open-shop-btn');
        setupModal(recordsModal, 'view-records-btn');

        // --- CORE LOGIC ---
        const save = () => {
            localStorage.setItem('questProgressV7', JSON.stringify(progress));
            renderAll();
        };
        const addXp = (amount, skill = null) => {
            if (isNaN(amount) || amount <= 0) return;
            progress.xp += amount;
            let xpToNextLevel = Math.floor(500 * Math.pow(progress.level, 1.2));
            while (progress.xp >= xpToNextLevel) {
                progress.xp -= xpToNextLevel;
                progress.level++;
                xpToNextLevel = Math.floor(500 * Math.pow(progress.level, 1.2));
            }
        };
        const updateGoals = (category, value) => {
            progress.goals.forEach(goal => {
                if (goal.category === category && goal.current < goal.target) {
                    goal.current = Math.min(goal.target, goal.current + value);
                }
            });
        };
        const updateStreaks = (studyActivity, fitnessActivity) => {
            const today = new Date(); today.setHours(0, 0, 0, 0);
            const lastUpdate = progress.lastUpdate ? new Date(progress.lastUpdate) : null;
            if(lastUpdate) lastUpdate.setHours(0,0,0,0);
            const diffDays = lastUpdate ? (today - lastUpdate) / (1000 * 60 * 60 * 24) : Infinity;

            if (studyActivity) {
                if (diffDays === 1) progress.streaks.study++;
                else if (diffDays > 1) progress.streaks.study = 1;
                // If diff is 0, do nothing
            } else if (diffDays > 1) {
                progress.streaks.study = 0;
            }

            if (fitnessActivity) {
                if (diffDays === 1) progress.streaks.fitness++;
                else if (diffDays > 1) progress.streaks.fitness = 1;
            } else if (diffDays > 1) {
                progress.streaks.fitness = 0;
            }
        };

        // --- RENDER FUNCTIONS ---
        const renderStats = () => {
            const xpToNextLevel = Math.floor(500 * Math.pow(progress.level, 1.2));
            document.getElementById('level').textContent = progress.level;
            document.getElementById('xp').textContent = progress.xp;
            document.getElementById('xpToNextLevel').textContent = xpToNextLevel;
            document.getElementById('xpBar').style.width = `${Math.min(100, (progress.xp / xpToNextLevel) * 100)}%`;
            document.getElementById('studyStreak').textContent = `${progress.streaks.study} d`;
            document.getElementById('fitnessStreak').textContent = `${progress.streaks.fitness} d`;
            document.getElementById('streak-freezes').textContent = progress.perks.streakFreeze;
        };
        const renderSkills = () => {
            document.getElementById('codingLvl').textContent = progress.skills.coding;
            document.getElementById('theoryLvl').textContent = progress.skills.theory;
            document.getElementById('projectsLvl').textContent = progress.skills.projects;
        };
        const renderGoals = () => {
            const goalList = document.getElementById('goal-list');
            goalList.innerHTML = '';
            if (progress.goals.length === 0) {
                goalList.innerHTML = '<p style="color: var(--text-muted); text-align: center;">No goals set. Add one below!</p>';
                return;
            }
            progress.goals.forEach((goal, index) => {
                const percentage = (goal.target > 0) ? (goal.current / goal.target) * 100 : 0;
                goalList.innerHTML += `<div class="goal-item"><div class="goal-text"><div>${goal.text} (${goal.current} / ${goal.target})</div><div class="goal-progress-bar"><div class="goal-progress" style="width: ${percentage}%"></div></div></div><button class="delete-goal-btn" data-index="${index}"><i class="fa-solid fa-trash"></i></button></div>`;
            });
        };
        let chartInstance = null;
        const renderChart = () => {
            const ctx = document.getElementById('progressChart').getContext('2d');
            const last7Days = progress.history.slice(-7);
            const labels = last7Days.map(day => new Date(day.date + 'T00:00:00').toLocaleDateString('en-US', { weekday: 'short' }));
            const codingData = last7Days.map(day => (day.coding || 0) * 10);
            const theoryData = last7Days.map(day => (day.theory || 0) * 20);
            const projectData = last7Days.map(day => (day.projects || 0) * 25);
            if (chartInstance) chartInstance.destroy();
            chartInstance = new Chart(ctx, { type: 'bar', data: { labels, datasets: [ { label: 'Coding XP', data: codingData, backgroundColor: '#e94560' }, { label: 'Theory XP', data: theoryData, backgroundColor: '#5cb85c' }, { label: 'Project XP', data: projectData, backgroundColor: '#0f3460' } ]}, options: { responsive: true, plugins: { legend: { labels: { color: 'white' } } }, scales: { y: { ticks: { color: 'white' } }, x: { ticks: { color: 'white' } } } } });
        };
        const renderShop = () => {
            document.getElementById('shop-xp-balance').textContent = progress.xp;
            const shopItemsEl = document.getElementById('shop-items');
            shopItemsEl.innerHTML = '';
            SHOP_ITEMS.forEach(item => {
                const canAfford = progress.xp >= item.cost;
                shopItemsEl.innerHTML += `<div class="shop-item"><div class="icon"><i class="${item.icon}"></i></div><h3>${item.name}</h3><p>${item.desc}</p><button class="buy-item-btn" data-id="${item.id}" ${canAfford ? '' : 'disabled'}>${item.cost} XP</button></div>`;
            });
        };
        const renderRecords = (filter = 'daily') => {
            const container = document.getElementById('records-container');
            container.innerHTML = '';
            let dataToRender = [];
            if (filter === 'daily') {
                dataToRender = [...progress.history].reverse();
            } else {
                const groups = {};
                progress.history.forEach(entry => {
                    const date = new Date(entry.date + 'T00:00:00');
                    let key;
                    if (filter === 'weekly') {
                        const firstDayOfYear = new Date(date.getFullYear(), 0, 1);
                        const pastDaysOfYear = (date - firstDayOfYear) / 86400000;
                        const weekNum = Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);
                        key = `${date.getFullYear()}-W${weekNum}`;
                    } else { // monthly
                        key = date.toLocaleString('default', { month: 'long', year: 'numeric' });
                    }
                    if (!groups[key]) groups[key] = { xp: 0, coding: 0, theory: 0, projects: 0, days: 0, title: key };
                    groups[key].coding += entry.coding;
                    groups[key].theory += entry.theory;
                    groups[key].projects += entry.projects;
                    groups[key].days++;
                });
                dataToRender = Object.values(groups).reverse();
            }

            if (dataToRender.length === 0) {
                container.innerHTML = '<p>No records found.</p>';
                return;
            }

            dataToRender.forEach(item => {
                let content = '';
                if (filter === 'daily') {
                    const date = new Date(item.date + 'T00:00:00');
                    content = `<h4>${date.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric' })}</h4>
                               <p><strong>Coding:</strong> ${item.coding} problems | <strong>Theory:</strong> ${item.theory} hrs | <strong>Projects:</strong> ${item.projects} hrs</p>`;
                } else {
                    content = `<h4>${item.title} (${item.days} active day${item.days > 1 ? 's' : ''})</h4>
                               <p><strong>Total Coding:</strong> ${item.coding} problems</p>
                               <p><strong>Total Theory:</strong> ${item.theory.toFixed(1)} hrs</p>
                               <p><strong>Total Projects:</strong> ${item.projects.toFixed(1)} hrs</p>`;
                }
                container.innerHTML += `<div class="record-card">${content}</div>`;
            });
        };
        const renderAchievements = () => { /* Logic to render achievements */ };
        
        const renderAll = () => { renderStats(); renderSkills(); renderGoals(); renderChart(); renderAchievements(); };
        
        // --- EVENT LISTENERS ---
        document.getElementById('dailyForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const todayStr = new Date().toISOString().split('T')[0];
            if (progress.lastUpdate === todayStr) { alert("Already logged for today!"); return; }
            const codingProblems = parseInt(document.getElementById('codingProblems').value) || 0;
            const theoryTime = parseFloat(document.getElementById('theoryTime').value) || 0;
            const projectTime = parseFloat(document.getElementById('projectTime').value) || 0;
            const fitnessDone = document.getElementById('fitnessDone').value === 'y';
            const codingXp = codingProblems * 10;
            const theoryXp = Math.floor(theoryTime * 20);
            const projectXp = Math.floor(projectTime * 25);
            const fitnessXp = fitnessDone ? 20 : 0;
            addXp(codingXp, 'coding'); addXp(theoryXp, 'theory'); addXp(projectXp, 'projects'); addXp(fitnessXp);
            updateGoals('coding', codingProblems); updateGoals('theory', theoryTime); updateGoals('projects', projectTime);
            updateStreaks(codingProblems > 0 || theoryTime > 0 || projectTime > 0, fitnessDone);
            progress.history.push({ date: todayStr, coding: codingProblems, theory: theoryTime, projects: projectTime, fitness: fitnessDone });
            progress.lastUpdate = todayStr;
            save();
            document.getElementById('dailyForm').reset();
        });
        document.getElementById('add-goal-form').addEventListener('submit', (e) => {
            e.preventDefault();
            progress.goals.push({ text: e.target.elements['goal-text'].value, target: parseInt(e.target.elements['goal-target'].value), category: e.target.elements['goal-category'].value, current: 0 });
            e.target.reset();
            save();
        });
        document.getElementById('goal-list').addEventListener('click', (e) => {
            const btn = e.target.closest('.delete-goal-btn');
            if (btn) { progress.goals.splice(parseInt(btn.dataset.index), 1); save(); }
        });
        document.getElementById('open-shop-btn').addEventListener('click', renderShop);
        document.getElementById('view-records-btn').addEventListener('click', () => renderRecords());
        shopModal.addEventListener('click', (e) => {
            if (e.target.closest('.buy-item-btn')) {
                const itemId = e.target.closest('.buy-item-btn').dataset.id;
                const item = SHOP_ITEMS.find(i => i.id === itemId);
                if (progress.xp >= item.cost) {
                    progress.xp -= item.cost;
                    progress.perks[itemId] = (progress.perks[itemId] || 0) + 1;
                    shopModal.classList.remove('show');
                    save();
                }
            }
        });
        recordsModal.querySelector('.modal-filters').addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                recordsModal.querySelectorAll('.modal-filters button').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                renderRecords(e.target.id.split('-')[1]);
            }
        });

        // --- INITIALIZATION ---
        const updateTime = () => {
            const now = new Date();
            document.getElementById('time').textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            document.getElementById('date').textContent = now.toLocaleDateString([], { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
        };
        setInterval(updateTime, 1000);
        updateTime();
        showView('view-main');
        renderAll();
    });
    </script>
</body>

</html>
